/* Mobile-First Responsive Design System for Astral Turf */

/* Mobile-First Base Styles */
.mobile-full-height {
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height for mobile */
}

.mobile-safe-area {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Mobile-optimized touch targets */
.mobile-touch-target {
  min-height: 44px;
  min-width: 44px;
}

/* Mobile layout variants */
.mobile-layout {
  --sidebar-width: 100vw;
  --header-height: 56px;
  --toolbar-height: 64px;
  --footer-height: 80px;
}

.tablet-layout {
  --sidebar-width: 320px;
  --header-height: 64px;
  --toolbar-height: 72px;
  --footer-height: 72px;
}

.desktop-layout {
  --sidebar-width: 380px;
  --header-height: 72px;
  --toolbar-height: 80px;
  --footer-height: 64px;
}

/* Mobile-specific spacing */
.mobile-p-1 {
  padding: 0.25rem;
}
.mobile-p-2 {
  padding: 0.5rem;
}
.mobile-p-3 {
  padding: 0.75rem;
}
.mobile-p-4 {
  padding: 1rem;
}

.mobile-px-1 {
  padding-left: 0.25rem;
  padding-right: 0.25rem;
}
.mobile-px-2 {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}
.mobile-px-3 {
  padding-left: 0.75rem;
  padding-right: 0.75rem;
}
.mobile-px-4 {
  padding-left: 1rem;
  padding-right: 1rem;
}

.mobile-py-1 {
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
}
.mobile-py-2 {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}
.mobile-py-3 {
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
}
.mobile-py-4 {
  padding-top: 1rem;
  padding-bottom: 1rem;
}

/* Mobile-specific margins */
.mobile-m-1 {
  margin: 0.25rem;
}
.mobile-m-2 {
  margin: 0.5rem;
}
.mobile-m-3 {
  margin: 0.75rem;
}
.mobile-m-4 {
  margin: 1rem;
}

/* Mobile navigation */
.mobile-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--footer-height);
  background: var(--bg-secondary);
  border-top: 1px solid var(--border-primary);
  z-index: 1000;
}

.mobile-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1050;
}

/* Touch-friendly buttons */
.btn-mobile {
  min-height: 44px;
  padding: 12px 16px;
  font-size: 16px; /* Prevent zoom on iOS */
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Mobile input styles */
.input-mobile {
  font-size: 16px; /* Prevent zoom on iOS */
  padding: 12px 16px;
  min-height: 44px;
  touch-action: manipulation;
}

/* Mobile card styles */
.card-mobile {
  margin: 8px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Responsive breakpoints */
@media (max-width: 480px) {
  .mobile-only {
    display: block !important;
  }
  .mobile-hidden {
    display: none !important;
  }

  /* Stack horizontally laid out items */
  .mobile-stack {
    flex-direction: column !important;
  }

  /* Full width on mobile */
  .mobile-full {
    width: 100% !important;
  }

  /* Smaller text on mobile */
  .mobile-text-sm {
    font-size: 0.875rem !important;
  }

  /* Mobile-specific field sizing */
  .soccer-field-mobile {
    aspect-ratio: 1.2/1 !important; /* Shorter field ratio for mobile */
  }

  /* Mobile sidebar as drawer */
  .sidebar-mobile {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    z-index: 1040;
  }

  .sidebar-mobile.open {
    transform: translateX(0);
  }
}

@media (min-width: 481px) and (max-width: 768px) {
  .tablet-only {
    display: block !important;
  }
  .tablet-hidden {
    display: none !important;
  }

  /* Tablet-specific layouts */
  .tablet-cols-2 {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .tablet-sidebar {
    width: var(--sidebar-width);
    position: relative;
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  .desktop-small-only {
    display: block !important;
  }
  .desktop-small-hidden {
    display: none !important;
  }
}

@media (min-width: 1025px) {
  .desktop-only {
    display: block !important;
  }
  .desktop-hidden {
    display: none !important;
  }

  /* Desktop-specific enhancements */
  .desktop-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }
}

/* High DPI / Retina displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .retina-border {
    border-width: 0.5px;
  }

  .retina-text {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Landscape orientation optimizations */
@media (orientation: landscape) and (max-height: 600px) {
  .landscape-compact {
    padding: 8px !important;
  }

  .landscape-header {
    height: 48px !important;
  }

  .soccer-field-landscape {
    aspect-ratio: 1.8/1 !important; /* Wider field for landscape */
  }
}

/* Portrait orientation optimizations */
@media (orientation: portrait) {
  .portrait-stack {
    flex-direction: column !important;
  }

  .portrait-full-width {
    width: 100% !important;
  }
}

/* Container queries for component-level responsiveness */
@container (max-width: 400px) {
  .container-compact {
    padding: 8px !important;
    font-size: 0.875rem !important;
  }
}

@container (min-width: 600px) {
  .container-expanded {
    padding: 24px !important;
  }
}

/* Progressive enhancement for modern browsers */
@supports (display: grid) {
  .grid-modern {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1rem;
  }
}

@supports (backdrop-filter: blur(10px)) {
  .backdrop-blur-supported {
    backdrop-filter: blur(10px) !important;
    background-color: rgba(var(--bg-primary), 0.8) !important;
  }
}

/* Accessibility enhancements */
@media (prefers-reduced-motion: reduce) {
  .motion-reduce {
    animation: none !important;
    transition: none !important;
  }

  .motion-reduce * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@media (prefers-contrast: high) {
  .high-contrast {
    border-width: 2px !important;
    outline: 2px solid var(--text-primary) !important;
  }

  .high-contrast-text {
    color: var(--text-primary) !important;
    background: var(--bg-primary) !important;
  }
}

@media (prefers-color-scheme: light) {
  .auto-light {
    color-scheme: light;
  }
}

@media (prefers-color-scheme: dark) {
  .auto-dark {
    color-scheme: dark;
  }
}

/* Focus management for keyboard navigation */
.focus-trap {
  position: relative;
}

.focus-trap::before,
.focus-trap::after {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  width: 1px;
  height: 1px;
  opacity: 0;
  pointer-events: none;
}

/* Skip links for accessibility */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--bg-primary);
  color: var(--text-primary);
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
  transition: top 0.3s;
}

.skip-link:focus {
  top: 6px;
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Visible focus indicators */
.focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Print styles */
@media print {
  .print-hidden {
    display: none !important;
  }

  .print-only {
    display: block !important;
  }

  .print-page-break {
    page-break-before: always;
  }

  .print-no-break {
    page-break-inside: avoid;
  }

  /* Optimize for printing */
  body {
    font-size: 12pt !important;
    line-height: 1.4 !important;
    color: black !important;
    background: white !important;
  }

  a[href]:after {
    content: ' (' attr(href) ')';
    font-size: 10pt;
    color: #666;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .touch-device .hover-effect {
    /* Remove hover effects on touch devices */
    transform: none !important;
    box-shadow: none !important;
  }

  .touch-device .button {
    padding: 12px 20px !important; /* Larger touch targets */
  }

  .touch-device .interactive {
    cursor: default !important; /* Remove cursor styles */
  }
}

/* Mouse/trackpad device optimizations */
@media (hover: hover) and (pointer: fine) {
  .mouse-device .hover-enhanced:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
}

/* Stylus/pen input optimizations */
@media (pointer: fine) and (hover: none) {
  .stylus-device .precise-input {
    touch-action: none; /* Allow precise stylus input */
  }
}
